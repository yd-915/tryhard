(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{112:function(e,t,c){},114:function(e,t,c){},115:function(e,t,c){},125:function(e,t,c){},128:function(e,t,c){},129:function(e,t,c){},130:function(e,t,c){},131:function(e,t,c){},132:function(e,t,c){},133:function(e,t,c){},134:function(e,t,c){},135:function(e,t,c){},136:function(e,t,c){},137:function(e,t,c){},138:function(e,t,c){},139:function(e,t,c){},140:function(e,t,c){},141:function(e,t,c){"use strict";c.r(t);var n=c(2),r=c.n(n),a=c(26),s=c.n(a),i=c(10),o=c(9),l=c(1),j=r.a.createContext(),d=function(e){var t=e.children,c=Object(n.useState)(null),r=Object(o.a)(c,2),a=r[0],s=r[1];Object(n.useEffect)((function(){fetch("/auth/getUser").then((function(e){return e.json()})).then((function(e){return s(e.user)}))}),[]);var i=Object(n.useMemo)((function(){return{userData:a,setUserData:s}}),[a,s]);return Object(l.jsx)(j.Provider,{value:i,children:t})},b=(c(112),c(113),c(114),c(16)),u=c(157),h=c(106),O=c(158),x=c(146),p=c(147),m=c(21),f=c(95);c(115);var g=function(){var e=Object(n.useContext)(j),t=e.userData,c=e.setUserData;return Object(l.jsxs)(u.a,{collapseOnSelect:!0,bg:"light",variant:"light",children:[Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(u.a.Brand,{children:Object(l.jsx)(i.c,{className:"navbar-brand",to:"/",children:Object(l.jsx)("img",{src:"data:image/png;base64,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",alt:"Logo"})})}),Object(l.jsx)(u.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(l.jsxs)(u.a.Collapse,{id:"responsive-navbar-nav",children:[Object(l.jsx)(h.a,{className:"mr-auto"}),t?Object(l.jsxs)(h.a,{children:[Object(l.jsx)(i.c,{className:"nav-item",id:"addButton",to:"/pay",children:Object(l.jsx)(O.a,{placement:"bottom",overlay:Object(l.jsxs)(x.a,{id:"tooltip-bottom",children:[Object(l.jsx)("strong",{children:"Add"})," an item."]}),children:Object(l.jsx)(m.c,{})},"bottom")}),Object(l.jsxs)(p.a,{title:Object(l.jsx)("img",{id:"navImg",src:t.avatar,alt:"user-avatar"}),drop:"left",id:"collasible-nav-dropdown",children:[Object(l.jsxs)(i.c,{className:"dropdown-item",to:"/profile/".concat(t._id),children:[Object(l.jsx)(m.b,{}),"Profile"]}),Object(l.jsxs)(i.c,{className:"dropdown-item",to:"/messages",children:[Object(l.jsx)(m.a,{}),"Messages"]}),Object(l.jsx)(p.a.Divider,{}),Object(l.jsxs)(i.c,{className:"dropdown-item",to:"/auth/logout",onClick:function(){c(null)},children:[Object(l.jsx)(f.a,{}),"Log out"]})]}),Object(l.jsx)(i.c,{className:"nav-item",id:"addButton",to:"/about",children:Object(l.jsx)(O.a,{placement:"bottom",overlay:Object(l.jsxs)(x.a,{id:"tooltip-bottom",children:[Object(l.jsx)("strong",{children:"About"})," us."]}),children:Object(l.jsx)(m.d,{})},"bottom")})]}):Object(l.jsxs)(h.a,{children:[Object(l.jsx)(i.c,{className:"nav-item",id:"nav-sign-in",to:"/auth/login",children:"Sign In"}),Object(l.jsx)(i.c,{className:"nav-item",id:"nav-sign-up",to:"/auth/register",children:"Sign Up"})]})]})]}),Object(l.jsx)(b.a,{path:"/about",component:function(){return window.location.replace("https://magical-longma-34be9d.netlify.app"),null}})]})},F=(c(125),c(72));var v=function(){return Object(l.jsx)("footer",{children:Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("div",{className:"connections",children:Object(l.jsx)("a",{href:"/#",id:"instaIcon",children:Object(l.jsx)(F.b,{})})}),"All Rights Reserved \xa9 2022 \u2022",Object(l.jsx)("a",{href:"https://github.com/Angel-Sky/ReactJS-Project",target:"_blank",rel:"noreferrer",children:" Policy"})]})})},y=c(60),w=c(96),C=c(94),A=(c(89),c(99)),S=c(83),N=c(73),k=c(98),I=c(97);var P=function(){return Object(l.jsxs)("div",{className:"container",id:"categories",children:[Object(l.jsx)("h1",{style:{textAlign:"center",color:"#FFFFFF"},children:"SECTIONS"}),Object(l.jsxs)(i.b,{to:"/categories/all",children:[Object(l.jsxs)(C.a,{variant:"dark",id:"all",children:[Object(l.jsx)(N.a,{}),"All"]})," "]}),Object(l.jsxs)(i.b,{to:"/categories/properties",children:[Object(l.jsxs)(C.a,{variant:"dark",id:"properties",children:[Object(l.jsx)(I.a,{}),"Math"]})," "]}),Object(l.jsxs)(i.b,{to:"/categories/auto",children:[Object(l.jsxs)(C.a,{variant:"dark",id:"auto",children:[Object(l.jsx)(S.a,{}),"Physics"]})," "]}),Object(l.jsxs)(i.b,{to:"/categories/home",children:[Object(l.jsxs)(C.a,{variant:"dark",id:"home",children:[Object(l.jsx)(S.c,{}),"Chemistry"]})," "]}),Object(l.jsxs)(i.b,{to:"/categories/electronics",children:[Object(l.jsxs)(C.a,{variant:"dark",id:"electronics",children:[Object(l.jsx)(k.a,{}),"Biology"]})," "]}),Object(l.jsxs)(i.b,{to:"/categories/clothes",children:[Object(l.jsxs)(C.a,{variant:"dark",id:"clothes",children:[Object(l.jsx)(A.a,{}),"Engineering"]})," "]}),Object(l.jsxs)(i.b,{to:"/categories/new",children:[Object(l.jsxs)(C.a,{variant:"dark",id:"new",children:[Object(l.jsx)(S.b,{}),"Arts"]})," "]})]})},G=c(159),B=c(100),U=c.n(B);var D=function(e){var t=e.params;return Object(l.jsxs)(G.a,{children:[Object(l.jsxs)(i.b,{to:"/categories/".concat(t.category,"/").concat(t._id,"/details"),children:[Object(l.jsx)(G.a.Img,{variant:"top",src:t.image}),Object(l.jsxs)(G.a.Body,{children:[Object(l.jsx)(G.a.Title,{children:t.title}),Object(l.jsxs)(G.a.Text,{children:[t.price.toFixed(2)," CAD$"]})]})]}),Object(l.jsx)(G.a.Footer,{children:Object(l.jsxs)("small",{className:"text-muted",children:[Object(l.jsx)(U.a,{format:"d MMM YYYY (dddd) HH:mm",children:t.addedAt}),"-  ",Object(l.jsx)("strong",{children:t.city})]})})]})},E=c(39),M=c(101),T=c(148),H=c(11),q=c(17),R="https://nexnotesapp.herokuapp.com/";function L(e,t,c){return W.apply(this,arguments)}function W(){return(W=Object(q.a)(Object(H.a)().mark((function e(t,c,n){return Object(H.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===n||void 0===n){e.next=6;break}return e.next=3,fetch("".concat(R,"/products?page=").concat(t,"&search=").concat(n),{credentials:"include"});case 3:case 9:case 14:return e.abrupt("return",e.sent.json());case 6:if(!c||"all"===c){e.next=12;break}return e.next=9,fetch("".concat(R,"/products/").concat(c,"?page=").concat(t),{credentials:"include"});case 12:return e.next=14,fetch("".concat(R,"/products?page=").concat(t),{credentials:"include"});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){return X.apply(this,arguments)}function X(){return(X=Object(q.a)(Object(H.a)().mark((function e(t){return Object(H.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(R,"/products/specific/").concat(t),{credentials:"include"});case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return(J=Object(q.a)(Object(H.a)().mark((function e(t){return Object(H.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(R,"/products/create"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e,t){return z.apply(this,arguments)}function z(){return(z=Object(q.a)(Object(H.a)().mark((function e(t,c){return Object(H.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(R,"/products/edit/").concat(t),{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(c)});case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){return(V=Object(q.a)(Object(H.a)().mark((function e(t){return Object(H.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/products/enable/".concat(t));case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(){return(Q=Object(q.a)(Object(H.a)().mark((function e(t){return Object(H.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/products/archive/".concat(t));case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e){return _.apply(this,arguments)}function _(){return(_=Object(q.a)(Object(H.a)().mark((function e(t){return Object(H.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(R,"/products/wish/").concat(t),{credentials:"include"});case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $=c(54);c(128),c(129);var ee=function(e){var t=e.match.params.category,c=Object(n.useState)([]),r=Object(o.a)(c,2),a=r[0],s=r[1],i=Object(n.useState)(1),j=Object(o.a)(i,2),d=j[0],b=j[1],u=Object(n.useState)(""),h=Object(o.a)(u,2),O=h[0],x=h[1],p=Object(n.useState)(!0),m=Object(o.a)(p,2),f=m[0],g=m[1],F=Object(n.useState)("oldest"),v=Object(o.a)(F,2),C=v[0],A=v[1];return Object(n.useEffect)((function(){b(1),g(!0),x(""),L(1,t).then((function(e){s(e.products),g(!1),b((function(e){return e+1})),x("")})).catch((function(e){return console.log(e)}))}),[t,s]),Object(n.useEffect)((function(){b(1),g(!0),L(2,t,O).then((function(e){s(""===O?function(t){return[].concat(Object(y.a)(t),Object(y.a)(e.products))}:e.products),g(!1),b((function(e){return e+1}))})).catch((function(e){return console.log(e)}))}),[O,t]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{id:"sider",style:{textAlign:"center",backgroundColor:"#4068FC"},children:Object(l.jsx)("input",{className:"col-lg-6",type:"text",placeholder:"Search...",name:"search",value:O,onChange:function(e){e.preventDefault(),x(e.target.value)}})}),Object(l.jsx)(P,{}),Object(l.jsxs)("div",{className:"container",children:[Object(l.jsxs)(E.a,{id:"dropdown-sort",children:[Object(l.jsxs)(E.a.Toggle,{variant:"light",id:"dropdown-basic",children:["Sort ",Object(l.jsx)($.b,{})]}),Object(l.jsxs)(E.a.Menu,{children:[Object(l.jsxs)(E.a.Item,{onClick:function(){A("oldest")},children:["Oldest ",Object(l.jsx)($.a,{})]}),Object(l.jsxs)(E.a.Item,{onClick:function(){A("newest")},children:["Newest ",Object(l.jsx)($.e,{})]}),Object(l.jsxs)(E.a.Item,{onClick:function(){A("lowerPrice")},children:["Price ",Object(l.jsx)($.c,{})]}),Object(l.jsxs)(E.a.Item,{onClick:function(){A("biggerPrice")},children:["Price ",Object(l.jsx)($.d,{})," "]})]})]}),f?Object(l.jsx)("div",{className:"spinner",children:Object(l.jsx)(T.a,{animation:"border"})}):Object(l.jsx)(w.a,{dataLength:a.length,next:function(){""===O&&L(d,t).then((function(e){s([].concat(Object(y.a)(a),Object(y.a)(e.products))),b(d+1)}))},hasMore:function(){return a.length>0},className:"row",children:a.sort((function(e,t){return"oldest"===C?e.addedAt.localeCompare(t.addedAt):"newest"===C?t.addedAt.localeCompare(e.addedAt):"lowerPrice"===C?t.price-e.price:"biggerPrice"===C?e.price-t.price:void 0})).map((function(e){return Object(l.jsx)(M.a,{xs:12,md:6,lg:3,children:Object(l.jsx)(D,{params:e})},e._id.toString())}))})]})]})},te=c(28),ce=c(19),ne="https://nexnotesapp.herokuapp.com/";function re(){return(re=Object(q.a)(Object(H.a)().mark((function e(t){return Object(H.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(ne,"/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(){return(ae=Object(q.a)(Object(H.a)().mark((function e(t){return Object(H.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(){return(se=Object(q.a)(Object(H.a)().mark((function e(){return Object(H.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(ne+"/auth/getUser",{credentials:"include"});case 2:return e.next=4,e.sent.json();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(){return(ie=Object(q.a)(Object(H.a)().mark((function e(t){return Object(H.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(ne,"/products/sells/active/").concat(t),{credentials:"include"});case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(){return(oe=Object(q.a)(Object(H.a)().mark((function e(){return Object(H.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(ne,"/products/sells/archived"),{credentials:"include"});case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(){return(le=Object(q.a)(Object(H.a)().mark((function e(){return Object(H.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(ne,"/products/wishlist/getWishlist"),{credentials:"include"});case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(e,t){return de.apply(this,arguments)}function de(){return(de=Object(q.a)(Object(H.a)().mark((function e(t,c){return Object(H.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/user/edit-profile/".concat(t),{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(c)});case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(){return(be=Object(q.a)(Object(H.a)().mark((function e(t){return Object(H.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(ne+"/user/getUserById/".concat(t),{credentials:"include"});case 2:return e.next=4,e.sent.json();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ue=c(156),he=c(149);c(130);var Oe=function(e){var t=e.params;return Object(l.jsx)("div",{id:"simpleSider",children:Object(l.jsx)("h1",{children:t})})};var xe=function(e){var t=e.history,c=Object(n.useState)(!1),r=Object(o.a)(c,2),a=r[0],s=r[1],d=Object(n.useState)(!1),b=Object(o.a)(d,2),u=b[0],h=b[1],O=Object(n.useState)(null),x=Object(o.a)(O,2),p=x[0],m=x[1],f=Object(n.useState)({email:"",password:""}),g=Object(o.a)(f,2),F=g[0],v=g[1],y=Object(n.useContext)(j).setUserData,w=function(e){e.preventDefault(),v(Object(ce.a)(Object(ce.a)({},F),{},Object(te.a)({},e.target.name,e.target.value)))};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Oe,{}),Object(l.jsxs)("div",{className:"container auth-form",style:{textAlign:"center",backgroundColor:"#4068FC"},children:[Object(l.jsx)("h1",{style:{color:"#FFFFFF"},className:"auth-heading",children:"SIGN IN"}),Object(l.jsxs)(ue.a,{className:"col-lg-6",onSubmit:function(e){e.preventDefault(),s(!0),function(e){return ae.apply(this,arguments)}(F).then((function(e){e.error?(s(!1),m(e.error.message),h(!0)):(y(e.user),t.push("/"))})).catch((function(e){return console.error("error from login: ",e)}))},children:[u&&Object(l.jsx)(he.a,{variant:"danger",onClose:function(){return h(!1)},dismissible:!0,children:Object(l.jsx)("p",{children:p})}),Object(l.jsxs)(ue.a.Group,{controlId:"formBasicEmail",children:[Object(l.jsx)(ue.a.Label,{style:{color:"#FFFFFF"},children:"Email address"}),Object(l.jsx)(ue.a.Control,{type:"email",name:"email",placeholder:"Enter email",onChange:w,required:!0})]}),Object(l.jsxs)(ue.a.Group,{controlId:"formBasicPassword",children:[Object(l.jsx)(ue.a.Label,{style:{color:"#FFFFFF"},children:"Password"}),Object(l.jsx)(ue.a.Control,{type:"password",name:"password",placeholder:"Password",onChange:w,required:!0})]}),a?Object(l.jsxs)(C.a,{style:{color:"#FFFFFF"},className:"col-lg-12 btnAuth",variant:"dark",disabled:!0,children:["Please wait... ",Object(l.jsx)(T.a,{animation:"border"})]}):Object(l.jsx)(C.a,{variant:"dark",className:"col-lg-12 btnAuth",type:"submit",children:"Sign In"}),Object(l.jsxs)("p",{style:{color:"#FFFFFF"},className:"bottom-msg-paragraph",children:["Don't have an account? ",Object(l.jsx)(i.b,{to:"/auth/register",children:"Sign Up"}),"!"]})]})]})]})};c(131);var pe=function(e){var t=e.history,c=Object(n.useState)(!1),r=Object(o.a)(c,2),a=r[0],s=r[1],j=Object(n.useState)(!1),d=Object(o.a)(j,2),b=d[0],u=d[1],h=Object(n.useState)(null),O=Object(o.a)(h,2),x=O[0],p=O[1],m=Object(n.useState)({name:null,lastName:null,gender:null,phoneNumber:"",email:"",password:"",repeatPassword:""}),f=Object(o.a)(m,2),g=f[0],F=f[1],v=function(e){e.preventDefault(),F(Object(ce.a)(Object(ce.a)({},g),{},Object(te.a)({},e.target.name,e.target.value)))};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Oe,{}),Object(l.jsxs)("div",{className:"container auth-form",children:[Object(l.jsx)("h1",{style:{color:"#FFFFFF"},className:"auth-heading",children:"SIGN UP"}),Object(l.jsxs)(ue.a,{className:"col-lg-8",onSubmit:function(e){e.preventDefault(),s(!0),function(e){return re.apply(this,arguments)}(g).then((function(e){e.error?(s(!1),p(e.error),u(!0)):t.push("/auth/login")})).catch((function(e){return console.error("error from register: ",e)}))},children:[b&&Object(l.jsx)(he.a,{variant:"danger",onClose:function(){return u(!1)},dismissible:!0,children:Object(l.jsx)("p",{children:x})}),Object(l.jsxs)(ue.a.Row,{children:[Object(l.jsxs)(ue.a.Group,{controlId:"forName",className:"col-lg-8",children:[Object(l.jsx)(ue.a.Label,{style:{color:"#FFFFFF"},children:"Name *"}),Object(l.jsx)(ue.a.Control,{type:"text",name:"name",placeholder:"Name",onChange:v,required:!0}),Object(l.jsx)(ue.a.Text,{style:{color:"#FFFFFF"},children:"Your real name or a username."})]}),Object(l.jsxs)(ue.a.Group,{as:M.a,controlId:"formGridGender",className:"col-lg-4",children:[Object(l.jsx)(ue.a.Label,{style:{color:"#FFFFFF"},children:"Gender"}),Object(l.jsxs)(ue.a.Control,{as:"select",defaultValue:"not specified",name:"gender",onChange:v,children:[Object(l.jsx)("option",{children:"Male"}),Object(l.jsx)("option",{children:"Female"})]})]})]}),Object(l.jsx)(ue.a.Row,{children:Object(l.jsxs)(ue.a.Group,{className:"col-lg-12",children:[Object(l.jsx)(ue.a.Label,{style:{color:"#FFFFFF"},children:"Phone Number *"}),Object(l.jsx)(ue.a.Control,{type:"text",name:"phoneNumber",placeholder:"+4378769999",onChange:v}),Object(l.jsx)(ue.a.Text,{style:{color:"#FFFFFF"},children:"Phone Number will be used by the buyer to contact the seller."})]})}),Object(l.jsx)(ue.a.Row,{children:Object(l.jsxs)(ue.a.Group,{controlId:"formBasicEmail",className:"col-lg-12",children:[Object(l.jsx)(ue.a.Label,{style:{color:"#FFFFFF"},children:"Email address *"}),Object(l.jsx)(ue.a.Control,{type:"email",name:"email",placeholder:"ivan@abv.bg",onChange:v,required:!0})]})}),Object(l.jsxs)(ue.a.Row,{children:[Object(l.jsxs)(ue.a.Group,{controlId:"formBasicPassword",className:"col-lg-6",children:[Object(l.jsx)(ue.a.Label,{style:{color:"#FFFFFF"},children:"Password *"}),Object(l.jsx)(ue.a.Control,{type:"password",name:"password",placeholder:"Password",onChange:v,required:!0}),Object(l.jsx)(ue.a.Text,{style:{color:"#FFFFFF"},children:"Your password must be 8-20 characters long"})]}),Object(l.jsxs)(ue.a.Group,{className:"col-lg-6",children:[Object(l.jsx)(ue.a.Label,{style:{color:"#FFFFFF"},children:"Confirm Password *"}),Object(l.jsx)(ue.a.Control,{type:"password",name:"repeatPassword",placeholder:"Repeat password",onChange:v,required:!0})]})]}),a?Object(l.jsxs)(C.a,{className:"col-lg-12 btnAuth",variant:"dark",disabled:!0,children:["Please wait... ",Object(l.jsx)(T.a,{animation:"border"})]}):Object(l.jsx)(C.a,{variant:"dark",className:"col-lg-12 btnAuth",type:"submit",children:"Sign Up"}),Object(l.jsxs)("p",{style:{color:"#FFFFFF"},className:"bottom-msg-paragraph",children:["Already have an account? ",Object(l.jsx)(i.b,{to:"/auth/login",children:"Sign In"}),"!"]}),Object(l.jsxs)("p",{style:{color:"#FFFFFF"},className:"bottom-msg-paragraph",children:["We do not share your personal information with third-party entities nor do we track it. ",Object(l.jsx)(i.b,{to:"/auth/login",children:"Private Policy"})]})]})]})]})};var me=function(e){var t=e.history;fetch("/auth/logout").then((function(e){return e.json()})).then((function(e){t.push("/")})).catch((function(e){return console.log(e)}))},fe=c(150),ge=c(22),Fe=c(49),ve=c(76);var ye=function(e){var t=e.params;return Object(l.jsx)("div",{id:"profile-head",children:Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)(fe.a,{className:"profile-row",children:[Object(l.jsx)(M.a,{lg:2,md:5,sm:12,children:Object(l.jsx)("img",{id:"avatar",alt:"avatar",src:t.avatar})}),Object(l.jsxs)(M.a,{lg:3,md:3,sm:12,children:[Object(l.jsxs)("p",{children:[Object(l.jsx)(m.b,{})," ",t.name]}),Object(l.jsxs)("p",{children:[Object(l.jsx)(ge.b,{})," ",t.email]}),Object(l.jsxs)("p",{children:[Object(l.jsx)(ge.c,{})," ",t.phoneNumber]}),Object(l.jsxs)("p",{children:[Object(l.jsx)(Fe.a,{})," ",t.totalSells," item(s) for sales"]})]}),Object(l.jsx)("span",{id:"edit-icon",children:Object(l.jsx)(i.b,{to:"/profile/".concat(t._id,"/edit"),children:Object(l.jsx)(ve.a,{})})})]})})})};c(132);var we=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(!0),s=Object(o.a)(a,2),i=s[0],j=s[1];return Object(n.useEffect)((function(){window.scrollTo(0,0),function(){return le.apply(this,arguments)}().then((function(e){r(e.wishlist.filter((function(e){return!0===e.active}))),j(!1)})).catch((function(e){return console.log(e)}))}),[r,j]),Object(l.jsx)(l.Fragment,{children:i?Object(l.jsx)(T.a,{animation:"border"}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h1",{className:"heading",style:{color:"#FFFFFF"},children:"Wishlist"}),c.length>0?Object(l.jsx)(fe.a,{children:c.map((function(e){return Object(l.jsx)(M.a,{xs:12,md:6,lg:4,children:Object(l.jsx)(D,{params:e})},e._id.toString())}))}):Object(l.jsx)("p",{className:"nothing-to-show",style:{color:"#FFFFFF"},children:"Nothing to show"})]})})};c(90);var Ce=function(e){var t=e.params,c=(e.history,Object(n.useState)([])),r=Object(o.a)(c,2),a=r[0],s=r[1],i=Object(n.useState)(!0),j=Object(o.a)(i,2),d=j[0],b=j[1];return Object(n.useEffect)((function(){window.scrollTo(0,0),t._id&&function(e){return ie.apply(this,arguments)}(t._id).then((function(e){s(e.sells),b(!1)})).catch((function(e){return console.log(e)}))}),[t._id]),Object(l.jsx)(l.Fragment,{children:d?Object(l.jsx)(T.a,{animation:"border"}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h1",{className:"heading",style:{color:"#FFFFFF"},children:"Active Sales"}),a?Object(l.jsx)(fe.a,{children:a.map((function(e){return Object(l.jsx)(M.a,{xs:12,md:6,lg:4,children:Object(l.jsx)(D,{params:e})},e._id.toString())}))}):Object(l.jsx)("p",{className:"nothing-to-show",style:{color:"#FFFFFF"},children:"Nothing to show"})]})})},Ae=c(155),Se=c(50);var Ne=function(e){var t=e.params,c=e.history,r=Object(n.useState)(!1),a=Object(o.a)(r,2),s=a[0],i=a[1],j=function(){return i(!1)};return Object(l.jsxs)("div",{className:"disabled-card",children:[Object(l.jsxs)(G.a,{children:[Object(l.jsx)(G.a.Img,{variant:"top",src:t.image}),Object(l.jsxs)(G.a.Body,{children:[Object(l.jsx)(G.a.Title,{children:t.title}),Object(l.jsxs)(G.a.Text,{children:[t.price,"\u20ac"]})]}),Object(l.jsx)(G.a.Footer,{children:Object(l.jsxs)("small",{className:"text-muted",children:[t.addedAt," -  ",t.city,Object(l.jsx)("span",{id:"enableIcon",onClick:function(){return i(!0)},children:Object(l.jsx)(Se.a,{})})]})})]}),Object(l.jsxs)(Ae.a,{show:s,onHide:j,children:[Object(l.jsx)(Ae.a.Header,{closeButton:!0,children:Object(l.jsx)(Ae.a.Title,{children:"Are you sure you want to make this item active?"})}),Object(l.jsxs)(Ae.a.Body,{children:["By clicking ",Object(l.jsx)("strong",{children:"Make Active"}),", this sell will change it's status to ",Object(l.jsx)("strong",{children:"Active"}),", which means that everyone on this Web site will see it."]}),Object(l.jsxs)(Ae.a.Footer,{children:[Object(l.jsx)(C.a,{variant:"secondary",onClick:j,children:"Close"}),Object(l.jsx)(C.a,{variant:"success",onClick:function(e){e.preventDefault(),function(e){return V.apply(this,arguments)}(t._id).then((function(e){c.push("/categories/".concat(t.category,"/").concat(t._id,"/details")),i(!1)})).catch((function(e){return console.log(e)}))},children:"Make Active"})]})]})]})};c(133);var ke=function(e){var t=e.history,c=Object(n.useState)([]),r=Object(o.a)(c,2),a=r[0],s=r[1],i=Object(n.useState)(!0),j=Object(o.a)(i,2),d=j[0],b=j[1];return Object(n.useEffect)((function(){window.scrollTo(0,0),function(){return oe.apply(this,arguments)}().then((function(e){s(e.sells),b(!1)})).catch((function(e){return console.log(e)}))}),[s,b]),Object(l.jsx)(l.Fragment,{children:d?Object(l.jsx)(T.a,{animation:"border"}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h1",{className:"heading",style:{color:"#FFFFFF"},children:"Archive"}),a?Object(l.jsx)(fe.a,{children:a.filter((function(e){return!1===e.active})).map((function(e){return Object(l.jsx)(M.a,{xs:12,md:6,lg:4,children:Object(l.jsx)(Ne,{params:e,history:t})},e._id.toString())}))}):Object(l.jsx)("p",{className:"nothing-to-show",style:{color:"#FFFFFF"},children:"Nothing to show"})]})})},Ie="https://nexnotesapp.herokuapp.com/";function Pe(e,t){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(q.a)(Object(H.a)().mark((function e(t,c){return Object(H.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Ie,"/messages/createChatRoom"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({message:c,receiver:t})});case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Be(){return(Be=Object(q.a)(Object(H.a)().mark((function e(){return Object(H.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Ie,"/messages/getUserConversations"),{credentials:"include"});case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(){return(Ue=Object(q.a)(Object(H.a)().mark((function e(t,c){return Object(H.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Ie,"/messages/sendMessage"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({chatId:t,message:c})});case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var De=function(e){var t=e.params,c=e.history,r=Object(n.useState)(!1),a=Object(o.a)(r,2),s=a[0],i=a[1],j=Object(n.useState)(""),d=Object(o.a)(j,2),b=d[0],u=d[1],h=function(){return i(!1)};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{id:"profile-head",children:Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)(fe.a,{className:"profile-row",children:[Object(l.jsx)(M.a,{lg:2,md:5,sm:12,children:Object(l.jsx)("img",{id:"avatar",alt:"avatar",src:t.avatar})}),Object(l.jsxs)(M.a,{lg:2,md:3,sm:12,children:[Object(l.jsxs)("p",{children:[Object(l.jsx)(m.b,{})," ",t.name]}),Object(l.jsxs)("p",{children:[Object(l.jsx)(ge.b,{})," ",t.email]}),Object(l.jsxs)("p",{children:[Object(l.jsx)(ge.c,{})," ",t.phoneNumber]}),Object(l.jsxs)("p",{children:[Object(l.jsx)(Fe.a,{})," ",t.totalSells," item(s) for sale"]})]}),Object(l.jsx)(M.a,{lg:3,md:4,sm:12,children:Object(l.jsxs)(C.a,{variant:"dark",className:"col-lg-10",id:"btnContact",onClick:function(){return i(!0)},children:[Object(l.jsx)(Se.b,{}),"Contact Seller"]})})]})})}),Object(l.jsx)("div",{className:"container",children:Object(l.jsx)(fe.a,{children:Object(l.jsx)(M.a,{lg:12,children:Object(l.jsx)(Ce,{params:t})})})}),Object(l.jsxs)(Ae.a,{show:s,onHide:h,children:[Object(l.jsx)(Ae.a.Header,{closeButton:!0,children:Object(l.jsx)(Ae.a.Title,{children:"Message"})}),Object(l.jsx)(Ae.a.Body,{children:Object(l.jsx)(ue.a,{children:Object(l.jsx)(ue.a.Group,{children:Object(l.jsx)(ue.a.Control,{as:"textarea",name:"textarea",onChange:function(e){e.preventDefault(),u(e.target.value)},rows:3})})})}),Object(l.jsxs)(Ae.a.Footer,{children:[Object(l.jsx)(C.a,{variant:"dark",onClick:function(e){e.preventDefault(),Pe(t._id,b).then((function(e){c.push("/messages")})).catch((function(e){return console.log(e)}))},children:"Sent"}),Object(l.jsx)(C.a,{variant:"secondary",onClick:h,children:"Close"})]})]})]})};c(134);var Ee=function(e){var t=e.match,c=e.history,r=Object(n.useState)(!0),a=Object(o.a)(r,2),s=a[0],i=a[1],j=Object(n.useState)(!1),d=Object(o.a)(j,2),b=d[0],u=d[1],h=Object(n.useState)(!1),O=Object(o.a)(h,2),x=O[0],p=O[1],m=Object(n.useState)([]),f=Object(o.a)(m,2),g=f[0],F=f[1];return Object(n.useEffect)((function(){window.scrollTo(0,0),function(e){return be.apply(this,arguments)}(t.params.id).then((function(e){return F(e.user)})).catch((function(e){return console.log(e)}))}),[t.params.id]),Object(l.jsx)(l.Fragment,{children:g.isMe?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(ye,{params:g}),Object(l.jsx)("div",{className:"container",style:{textAlign:"center",backgroundColor:"#4068FC"},children:Object(l.jsxs)(fe.a,{children:[Object(l.jsxs)(M.a,{lg:2,sm:12,id:"aside",children:[Object(l.jsx)(C.a,{variant:"dark",id:"active-sells",onClick:function(){i(!0),u(!1),p(!1)},style:{textAlign:"center"},children:"Active Sales"})," ",Object(l.jsx)(C.a,{variant:"dark",id:"archived-sells",onClick:function(){i(!1),u(!0),p(!1)},children:"Archived"})," ",Object(l.jsx)(C.a,{variant:"dark",id:"wishlist",onClick:function(){i(!1),u(!1),p(!0)},children:"Wishlist"})," "]}),Object(l.jsxs)(M.a,{lg:10,sm:12,children:[s&&Object(l.jsx)(Ce,{params:g}),b&&Object(l.jsx)(ke,{history:c}),x&&Object(l.jsx)(we,{})]})]})})]}):Object(l.jsx)(De,{params:g,history:c})})},Me=c(160);var Te=function(e){var t=e.params;return Object(l.jsxs)(Me.a,{children:[Object(l.jsx)("li",{className:"breadcrumb-item",children:Object(l.jsx)(i.b,{to:"/",children:"Home"})}),Object(l.jsx)("li",{className:"breadcrumb-item",children:Object(l.jsx)(i.b,{to:"/categories/".concat(t.category),children:t.category})}),Object(l.jsx)("li",{className:"breadcrumb-item",children:Object(l.jsx)(i.b,{to:"/categories/".concat(t.category,"/").concat(t._id,"/details"),children:t.title})})]})},He=c(151),qe=c(161),Re=c(152);var Le=function(e){var t=e.params,c=Object(n.useState)(!1),r=Object(o.a)(c,2),a=r[0],s=r[1];return Object(n.useEffect)((function(){!0===t.isWished?s(!0):s(!1)}),[t.isWished,s]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(He.a,{className:"col-lg-12",src:t.image,rounded:!0}),Object(l.jsxs)(fe.a,{children:[Object(l.jsx)("h1",{className:"col-lg-10 col-sm-10 product-info-heading",children:t.title}),Object(l.jsx)("span",{id:"heartIconDetails",className:"col-lg-1 col-sm-1",onClick:function(){!1===a?K(t._id).then((function(e){s(!0)})).catch((function(e){return console.log(e)})):K(t._id).then((function(e){s(!1)})).catch((function(e){return console.log(e)}))},children:t.isAuth&&Object(l.jsx)(l.Fragment,{children:a?Object(l.jsx)(O.a,{placement:"top",overlay:Object(l.jsx)(x.a,{children:"Remove from Wishlist"}),children:Object(l.jsx)(m.f,{})}):Object(l.jsx)(O.a,{placement:"top",overlay:Object(l.jsx)(x.a,{children:"Add to Wishlist"}),children:Object(l.jsx)(m.e,{})})})})]}),Object(l.jsx)("div",{id:"detailsCardText",className:"col-lg-12",children:Object(l.jsx)(qe.a,{defaultActiveKey:"details",transition:!1,children:Object(l.jsxs)(Re.a,{eventKey:"details",title:"Details",id:"tab-details",children:[t.description,Object(l.jsx)("hr",{}),Object(l.jsxs)("p",{id:"details-footer",style:{color:"#FFFFFF"},className:"text-muted",children:["Product listed at ",t.addedAt]})]})})})]})};c(91);var We=function(e){var t=e.params,c=e.history,r=Object(n.useState)(!1),a=Object(o.a)(r,2),s=a[0],j=a[1],d=Object(n.useState)(!1),b=Object(o.a)(d,2),u=b[0],h=b[1],p=Object(n.useState)(""),f=Object(o.a)(p,2),g=f[0],F=f[1],v=function(){return j(!1)},y=function(){return h(!1)};return Object(l.jsxs)("aside",{children:[Object(l.jsxs)("div",{className:"product-details-seller",children:[Object(l.jsxs)("div",{id:"priceLabel",className:"col-lg-12",children:[Object(l.jsx)("h4",{style:{color:"#FFFFFF"},id:"product-price-heading",children:"Item Price "}),t.isSeller&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(O.a,{placement:"top",overlay:Object(l.jsx)(x.a,{children:"Edit article"}),children:Object(l.jsx)("span",{id:"edit-icon",children:Object(l.jsx)(i.b,{to:"/categories/".concat(t.category,"/").concat(t._id,"/edit"),children:Object(l.jsx)(ve.a,{})})})}),Object(l.jsx)(O.a,{placement:"top",overlay:Object(l.jsx)(x.a,{children:"Archive"}),children:Object(l.jsx)("span",{id:"archive-icon",onClick:function(){return h(!0)},children:Object(l.jsx)(ge.a,{})})})]}),t.price&&Object(l.jsxs)("h1",{style:{color:"#FFFFFF"},id:"price-heading",children:[t.price.toFixed(2)," CAD$"]})]}),t.isAuth?Object(l.jsxs)(l.Fragment,{children:[!t.isSeller&&Object(l.jsxs)(C.a,{style:{color:"#FFFFFF"},variant:"dark",className:"col-lg-10",id:"btnContact",onClick:function(){return j(!0)},children:[Object(l.jsx)(Se.b,{}),"Contact Seller"]}),Object(l.jsxs)(i.b,{to:"/profile/".concat(t.sellerId),children:[Object(l.jsx)(M.a,{lg:12,children:Object(l.jsx)("img",{id:"avatar",src:t.avatar,alt:"user-avatar"})}),Object(l.jsxs)(M.a,{lg:12,children:[Object(l.jsxs)("p",{style:{color:"#FFFFFF"},children:[Object(l.jsx)(m.b,{})," ",t.name]}),Object(l.jsxs)("p",{style:{color:"#FFFFFF"},children:[Object(l.jsx)(ge.b,{})," ",t.email]}),Object(l.jsxs)("p",{style:{color:"#FFFFFF"},children:[Object(l.jsx)(ge.c,{})," ",t.phoneNumber]}),Object(l.jsxs)("p",{style:{color:"#FFFFFF"},children:[Object(l.jsx)(Fe.a,{})," ",t.createdSells," item(s) for sale"]})]})]})]}):Object(l.jsxs)("p",{style:{color:"#FFFFFF"},id:"guest-msg",children:[Object(l.jsx)(i.b,{to:"/auth/login",children:"Sign In"})," now to contact the seller!"]})]}),Object(l.jsxs)(Ae.a,{show:s,onHide:v,children:[Object(l.jsx)(Ae.a.Header,{closeButton:!0,children:Object(l.jsx)(Ae.a.Title,{style:{color:"#FFFFFF"},children:"Message"})}),Object(l.jsx)(Ae.a.Body,{children:Object(l.jsx)(ue.a,{children:Object(l.jsx)(ue.a.Group,{children:Object(l.jsx)(ue.a.Control,{as:"textarea",name:"textarea",onChange:function(e){e.preventDefault(),F(e.target.value)},rows:3})})})}),Object(l.jsxs)(Ae.a.Footer,{children:[Object(l.jsx)(C.a,{variant:"dark",onClick:function(e){e.preventDefault(),Pe(t.sellerId,g).then((function(e){c.push("/messages/".concat(e.messageId))})).catch((function(e){return console.log(e)}))},children:"Sent"}),Object(l.jsx)(C.a,{variant:"secondary",onClick:v,children:"Close"})]})]}),Object(l.jsxs)(Ae.a,{show:u,onHide:y,children:[Object(l.jsx)(Ae.a.Header,{closeButton:!0,children:Object(l.jsx)(Ae.a.Title,{children:"Are you sure you want to archive this item?"})}),Object(l.jsxs)(Ae.a.Body,{children:[Object(l.jsxs)("p",{children:["By clicking ",Object(l.jsx)("strong",{children:"Archive"}),", this item will change it's status to ",Object(l.jsx)("strong",{children:"Archived"}),"(no one but you will be able see it). You may want to change the status to ",Object(l.jsx)("strong",{children:"Actived"})," if you have sold the item or you don't want to sell it anymore."]}),"Don't worry, you can unarchive it at any time from Profile - Sales!"]}),Object(l.jsxs)(Ae.a.Footer,{children:[Object(l.jsx)(C.a,{variant:"secondary",onClick:y,children:"Close"}),Object(l.jsx)(C.a,{variant:"success",onClick:function(e){e.preventDefault(),function(e){return Q.apply(this,arguments)}(t._id).then((function(e){h(!1),c.push("/profile/".concat(t.seller))})).catch((function(e){return console.log(e)}))},children:"Archive"})]})]})]})};c(135);var Ye=function(e){var t=e.match,c=e.history,r=t.params.id,a=Object(n.useState)([]),s=Object(o.a)(a,2),i=s[0],j=s[1],d=Object(n.useState)(!0),b=Object(o.a)(d,2),u=b[0],h=b[1];return Object(n.useEffect)((function(){window.scrollTo(0,0),Y(r).then((function(e){return j(e)}),h(!1)).catch((function(e){return console.log(e)}))}),[r,j,h]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Oe,{}),Object(l.jsx)("div",{className:"container",style:{textAlign:"center",backgroundColor:"#65ECFF"},children:u?Object(l.jsx)(T.a,{animation:"border"}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Te,{params:i}),Object(l.jsxs)(fe.a,{children:[Object(l.jsx)(M.a,{lg:8,id:"detailsProduct",children:Object(l.jsx)(Le,{params:i})}),Object(l.jsx)(M.a,{lg:4,children:Object(l.jsx)(We,{params:i,history:c})})]})]})})]})};c(136);var Xe=function(e){var t=e.match,c=e.history,r=Object(n.useState)({}),a=Object(o.a)(r,2),s=a[0],i=a[1],j=Object(n.useState)(!1),d=Object(o.a)(j,2),b=d[0],u=d[1],h=Object(n.useState)(!1),O=Object(o.a)(h,2),x=O[0],p=O[1],m=Object(n.useState)(null),f=Object(o.a)(m,2),g=f[0],F=f[1],v=t.params.id;Object(n.useEffect)((function(){window.scrollTo(0,0),Y(v).then((function(e){return i(e)})).catch((function(e){return console.log(e)}))}),[v]);var y=function(e){e.preventDefault(),i(Object(ce.a)(Object(ce.a)({},s),{},Object(te.a)({},e.target.name,e.target.value))),e.target.files&&i(Object(ce.a)(Object(ce.a)({},s),{},{image:e.target.files[0]}))};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Oe,{}),Object(l.jsxs)("div",{className:"container",style:{textAlign:"center",backgroundColor:"#4068FC"},children:[Object(l.jsx)("h1",{className:"heading",children:"Edit product"}),Object(l.jsxs)(ue.a,{onSubmit:function(e){e.preventDefault();var t,n=s._id,r=s.title,a=s.price,i=s.description,o=s.city,l=s.category,j=s.image,d={title:r,price:a,description:i,city:o,category:l};u(!0),"object"==typeof j?(t=j,new Promise((function(e,c){var n=new FileReader;n.readAsDataURL(t),n.onload=function(){return e(n.result)},n.onerror=function(e){return c(e)}}))).then((function(e){d.image=e,Z(n,d).then((function(e){e.error?(u(!1),F(e.error),p(!0)):c.push("/categories/".concat(l,"/").concat(n,"/details"))})).catch((function(e){return console.error("edit product err: ",e)}))})).catch((function(e){return console.log("base64 error: ",e)})):Z(n,d).then((function(e){e.error?(u(!1),F(e.error),p(!0)):c.push("/categories/".concat(l,"/").concat(n,"/details"))})).catch((function(e){return console.error("edit product err: ",e)}))},children:[x&&Object(l.jsx)(he.a,{variant:"danger",onClose:function(){return p(!1)},dismissible:!0,children:Object(l.jsx)("p",{children:g})}),Object(l.jsxs)(ue.a.Row,{children:[Object(l.jsxs)(ue.a.Group,{as:M.a,controlId:"formGridTitle",children:[Object(l.jsx)(ue.a.Label,{children:"Title"}),Object(l.jsx)(ue.a.Control,{type:"text",placeholder:"Enter title",name:"title",value:s.title,onChange:y,required:!0})]}),Object(l.jsxs)(ue.a.Group,{as:M.a,controlId:"formGridPrice",children:[Object(l.jsx)(ue.a.Label,{children:"Price"}),Object(l.jsx)(ue.a.Control,{type:"number",step:"0.01",placeholder:"Price",name:"price",value:s.price,onChange:y,required:!0})]})]}),Object(l.jsxs)(ue.a.Group,{controlId:"formGridDescription.ControlTextarea1",children:[Object(l.jsx)(ue.a.Label,{children:"Description"}),Object(l.jsx)(ue.a.Control,{as:"textarea",rows:3,name:"description",defaultValue:s.description,onChange:y,required:!0})]}),Object(l.jsxs)(ue.a.Row,{children:[Object(l.jsxs)(ue.a.Group,{as:M.a,controlId:"formGridCity",children:[Object(l.jsx)(ue.a.Label,{children:"City"}),Object(l.jsx)(ue.a.Control,{name:"city",placeholder:"Sofia",value:s.city,onChange:y,required:!0})]}),Object(l.jsxs)(ue.a.Group,{as:M.a,controlId:"formGridCategory",children:[Object(l.jsx)(ue.a.Label,{children:"Category"}),Object(l.jsxs)(ue.a.Control,{as:"select",value:s.category,name:"category",onChange:y,required:!0,children:[Object(l.jsx)("option",{children:"Choose..."}),Object(l.jsx)("option",{children:"properties"}),Object(l.jsx)("option",{children:"auto"}),Object(l.jsx)("option",{children:"electronics"}),Object(l.jsx)("option",{children:"clothes"}),Object(l.jsx)("option",{children:"toys"}),Object(l.jsx)("option",{children:"home"}),Object(l.jsx)("option",{children:"garden"})]})]}),Object(l.jsxs)(ue.a.Group,{as:M.a,controlId:"formGridImage",children:[Object(l.jsx)(ue.a.Label,{children:"Image"}),Object(l.jsx)(ue.a.Control,{name:"image",type:"file",onChange:y})]})]}),b?Object(l.jsxs)(C.a,{className:"col-lg-12",variant:"dark",disabled:!0,children:["Please wait... ",Object(l.jsx)(T.a,{animation:"border"})]}):Object(l.jsx)(C.a,{className:"col-lg-12",variant:"dark",type:"submit",children:"Add product"})]})]})]})},Je=c(102),Ze=c(103),ze=c(59),Ve=c(104),Qe=c(105),Ke=(c(137),function(e){Object(Ve.a)(c,e);var t=Object(Qe.a)(c);function c(e){var n;return Object(Je.a)(this,c),(n=t.call(this,e)).state={title:"",price:"",description:"",city:"",category:"",image:"",loading:!1,alertShow:!1,errors:[]},n.onChangeHandler=n.onChangeHandler.bind(Object(ze.a)(n)),n.onSubmitHandler=n.onSubmitHandler.bind(Object(ze.a)(n)),n}return Object(Ze.a)(c,[{key:"onChangeHandler",value:function(e){e.preventDefault(),this.setState(Object(te.a)({},e.target.name,e.target.value)),e.target.files&&this.setState({image:e.target.files[0]})}},{key:"onSubmitHandler",value:function(e){var t=this;e.preventDefault();var c=this.state,n=c.title,r=c.price,a=c.description,s=c.city,i=c.category,o=c.image,l={title:n,price:r,description:a,city:s,category:i};this.setState({loading:!0}),this.getBase64(o).then((function(e){l.image=e,function(e){return J.apply(this,arguments)}(l).then((function(e){e.error?(t.setState({loading:!1}),t.setState({errors:e.error}),t.setState({alertShow:!0})):t.props.history.push("/categories/".concat(i,"/").concat(e.productId,"/details"))})).catch((function(e){return console.error("Creating product err: ",e)}))})).catch((function(e){return console.error("Converting to base64 err: ",e)}))}},{key:"getBase64",value:function(e){return new Promise((function(t,c){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return c(e)}}))}},{key:"render",value:function(){var e=this;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Oe,{}),Object(l.jsxs)("div",{className:"container",style:{textAlign:"center",backgroundColor:"#4068FC"},children:[Object(l.jsx)("h1",{className:"heading",style:{textAlign:"center",color:"#FFFFFF"},children:"Add a Product"}),Object(l.jsxs)(ue.a,{onSubmit:this.onSubmitHandler,children:[this.state.alertShow&&Object(l.jsx)(he.a,{variant:"danger",onClose:function(){return e.setState({alertShow:!1})},dismissible:!0,children:Object(l.jsx)("p",{children:this.state.errors})}),Object(l.jsxs)(ue.a.Row,{children:[Object(l.jsxs)(ue.a.Group,{as:M.a,controlId:"formGridTitle",children:[Object(l.jsx)(ue.a.Label,{style:{textAlign:"center",color:"#FFFFFF"},children:"Title"}),Object(l.jsx)(ue.a.Control,{type:"text",placeholder:"Enter title",name:"title",required:!0,onChange:this.onChangeHandler})]}),Object(l.jsxs)(ue.a.Group,{as:M.a,controlId:"formGridPrice",children:[Object(l.jsx)(ue.a.Label,{style:{textAlign:"center",color:"#FFFFFF"},children:"Price"}),Object(l.jsx)(ue.a.Control,{type:"number",step:"0.01",placeholder:"Price",name:"price",required:!0,onChange:this.onChangeHandler})]})]}),Object(l.jsxs)(ue.a.Group,{controlId:"formGridDescription.ControlTextarea1",children:[Object(l.jsx)(ue.a.Label,{style:{textAlign:"center",color:"#FFFFFF"},children:"Description"}),Object(l.jsx)(ue.a.Control,{as:"textarea",rows:3,name:"description",placeholder:"What are you selling?",required:!0,onChange:this.onChangeHandler})]}),Object(l.jsxs)(ue.a.Row,{children:[Object(l.jsxs)(ue.a.Group,{as:M.a,controlId:"formGridCategory",children:[Object(l.jsx)(ue.a.Label,{style:{textAlign:"center",color:"#FFFFFF"},children:"University"}),Object(l.jsxs)(ue.a.Control,{as:"select",defaultValue:"N/A",name:"category",required:!0,onChange:this.onChangeHandler,children:[Object(l.jsx)("option",{children:"N/A"}),Object(l.jsx)("option",{children:"Algoma University"}),Object(l.jsx)("option",{children:"Brock University"}),Object(l.jsx)("option",{children:"Carleton University"}),Object(l.jsx)("option",{children:"Lakehead University"}),Object(l.jsx)("option",{children:"Laurentian University"}),Object(l.jsx)("option",{children:"McMaster University"}),Object(l.jsx)("option",{children:"Nipissing University"}),Object(l.jsx)("option",{children:"Queen's University"}),Object(l.jsx)("option",{children:"Toronto Metropolitan University"}),Object(l.jsx)("option",{children:"Saint Paul University"}),Object(l.jsx)("option",{children:"University of Guelph-Humber"}),Object(l.jsx)("option",{children:"University of Ontario Institute of Technology"}),Object(l.jsx)("option",{children:"University of Ottawa"}),Object(l.jsx)("option",{children:"University of Toronto"}),Object(l.jsx)("option",{children:"University of Waterloo"}),Object(l.jsx)("option",{children:"University of Western Ontario"}),Object(l.jsx)("option",{children:"University of Windsor"}),Object(l.jsx)("option",{children:"Wilfrid Laurier University"}),Object(l.jsx)("option",{children:"York University"})]})]}),Object(l.jsxs)(ue.a.Group,{as:M.a,controlId:"formGridCategory",children:[Object(l.jsx)(ue.a.Label,{style:{textAlign:"center",color:"#FFFFFF"},children:"Category"}),Object(l.jsxs)(ue.a.Control,{as:"select",defaultValue:"Choose...",name:"category",required:!0,onChange:this.onChangeHandler,children:[Object(l.jsx)("option",{children:"Choose..."}),Object(l.jsx)("option",{children:"Math"}),Object(l.jsx)("option",{children:"Physics"}),Object(l.jsx)("option",{children:"Biology"}),Object(l.jsx)("option",{children:"Chemistry"}),Object(l.jsx)("option",{children:"Arts"})]})]}),Object(l.jsxs)(ue.a.Group,{as:M.a,controlId:"formGridImage",children:[Object(l.jsx)(ue.a.Label,{style:{textAlign:"center",color:"#FFFFFF"},children:"Image"}),Object(l.jsx)(ue.a.Control,{name:"image",type:"file",required:!0,onChange:this.onChangeHandler})]})]}),this.state.loading?Object(l.jsxs)(C.a,{className:"col-lg-12",variant:"dark",disabled:!0,children:["Please wait... ",Object(l.jsx)(T.a,{animation:"border"})]}):Object(l.jsx)(C.a,{className:"col-lg-12",variant:"dark",type:"submit",children:"Continue"})]})]})]})}}]),c}(n.Component)),_e=Ke;var $e=function(e){var t=e.history,c=Object(n.useState)({name:"",phoneNumber:"",email:"",avatar:""}),r=Object(o.a)(c,2),a=r[0],s=r[1],i=Object(n.useState)(!1),j=Object(o.a)(i,2),d=j[0],b=j[1],u=Object(n.useState)(!1),h=Object(o.a)(u,2),p=h[0],f=h[1],g=Object(n.useState)(!1),v=Object(o.a)(g,2),y=v[0],w=v[1];Object(n.useEffect)((function(){window.scrollTo(0,0),function(){return se.apply(this,arguments)}().then((function(e){return s(e.user)})).catch((function(e){return console.log(e)}))}),[s]);var A=function(e){e.preventDefault(),s(Object(ce.a)(Object(ce.a)({},a),{},Object(te.a)({},e.target.name,e.target.value))),e.target.files&&s(Object(ce.a)(Object(ce.a)({},a),{},{avatar:e.target.files[0]}))};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{id:"profile-head",children:Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)("form",{className:"col-lg-12",children:[y&&Object(l.jsx)(he.a,{variant:"danger",onClose:function(){return w(!1)},dismissible:!0,children:Object(l.jsx)("p",{children:p})}),Object(l.jsxs)(fe.a,{className:"profile-row",children:[Object(l.jsxs)(M.a,{lg:3,md:5,sm:12,children:[Object(l.jsx)("label",{htmlFor:"file-upload",className:"custom-file-upload",children:Object(l.jsx)(O.a,{placement:"bottom",overlay:Object(l.jsx)(x.a,{children:"Click to select a photo"}),children:Object(l.jsx)("img",{id:"avatar",src:a.avatar,alt:"user-avatar"})})}),Object(l.jsx)("input",{id:"file-upload",type:"file",name:"avatar",onChangeCapture:A})]}),Object(l.jsxs)(M.a,{lg:4,md:3,sm:12,children:[Object(l.jsxs)("p",{children:[Object(l.jsx)(m.b,{})," ",Object(l.jsx)("input",{type:"text",name:"name",value:a.name,onChange:A,required:!0})]}),Object(l.jsxs)("p",{children:[Object(l.jsx)(ge.b,{})," ",Object(l.jsx)("input",{type:"email",name:"email",value:a.email,onChange:A,required:!0})]}),Object(l.jsxs)("p",{children:[Object(l.jsx)(ge.c,{})," ",Object(l.jsx)("input",{type:"text",name:"phoneNumber",value:a.phoneNumber,onChange:A,required:!0})]})]}),Object(l.jsx)(M.a,{lg:2,id:"edit-profile-icons",children:d?Object(l.jsx)(T.a,{animation:"border"}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(O.a,{placement:"bottom",overlay:Object(l.jsx)(x.a,{children:" Save changes"}),children:Object(l.jsx)("span",{onClick:function(e){e.preventDefault();var c,n=a._id,r=a.name,s=a.phoneNumber,i=a.email,o=a.avatar,l={name:r,phoneNumber:s,email:i};b(!0),"object"==typeof o?(c=o,new Promise((function(e,t){var n=new FileReader;n.readAsDataURL(c),n.onload=function(){return e(n.result)},n.onerror=function(e){return t(e)}}))).then((function(e){l.avatar=e,je(n,l).then((function(e){e.error?(b(!1),f(e.error),w(!0)):t.push("/profile/".concat(n))})).catch((function(e){return console.error("edit profile err: ",e)}))})).catch((function(e){return console.log("base64 error: ",e)})):je(n,l).then((function(e){e.error?(b(!1),f(e.error),w(!0)):t.push("/profile/".concat(n))})).catch((function(e){return console.error("edit profile err: ",e)}))},children:Object(l.jsx)(N.b,{})})}),Object(l.jsx)(O.a,{placement:"bottom",overlay:Object(l.jsx)(x.a,{children:"Discard changes "}),children:Object(l.jsx)("span",{onClick:function(){t.push("/profile/".concat(a._id))},children:Object(l.jsx)(F.a,{})})})]})})]})]})})}),Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)(fe.a,{children:[Object(l.jsxs)(M.a,{lg:2,sm:12,id:"aside",children:[Object(l.jsx)(C.a,{disabled:!0,variant:"dark",id:"active-sells",children:"Active Sales"})," ",Object(l.jsx)(C.a,{disabled:!0,variant:"dark",id:"archived-sells",children:"Archived"})," ",Object(l.jsx)(C.a,{disabled:!0,variant:"dark",id:"wishlist",children:"Wishlist"})," "]}),Object(l.jsx)(M.a,{lg:10,sm:12,disabled:!0,children:Object(l.jsx)(Ce,{params:a})})]})})]})},et=c.p+"static/media/oops.62549de5.png";var tt=function(){return Object(l.jsx)("div",{className:"container",alt:"image",style:{textAlign:"center"},children:Object(l.jsx)("img",{src:et})})},ct=c(153),nt=c(154);c(138),c(139);var rt=function(e){var t=e.match.params.id,c=Object(n.useState)([]),r=Object(o.a)(c,2),a=r[0],s=r[1],j=Object(n.useState)(!1),d=Object(o.a)(j,2),b=d[0],u=d[1],h=Object(n.useState)({chats:{_id:0,seller:{_id:"",avatar:"",name:""},buyer:{_id:"",avatar:"",name:""},conversation:[]},isBuyer:null,myId:0}),O=Object(o.a)(h,2),x=O[0],p=O[1],m=Object(n.useState)(""),f=Object(o.a)(m,2),g=f[0],F=f[1],v=Object(n.useState)(null),y=Object(o.a)(v,2),w=y[0],A=y[1],S=Object(n.useState)(!1),N=Object(o.a)(S,2),k=N[0],I=N[1];return Object(n.useEffect)((function(){(function(){return Be.apply(this,arguments)})().then((function(e){s(e)})).catch((function(e){return console.log(e)})),b&&p(a.find((function(e){return e.chats._id===t})))}),[b,t,p,a]),Object(l.jsx)(ct.a,{children:Object(l.jsxs)(fe.a,{children:[Object(l.jsxs)("aside",{className:"col-lg-4 col-md-4",style:{textAlign:"center",backgroundColor:"#4068FC"},children:[Object(l.jsx)("h3",{style:{color:"#FFFFFF"},children:"Messages"}),a.length>=1?Object(l.jsx)(l.Fragment,{children:a.map((function(e){return Object(l.jsx)("div",{className:"chat-connections",children:Object(l.jsx)(i.b,{onClick:function(){return u(!0)},to:"/messages/".concat(e.chats._id),children:e.isBuyer?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("img",{src:e.chats.seller.avatar,alt:"user-avatar"})," ",Object(l.jsx)("span",{children:e.chats.seller.name})]}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("img",{src:e.chats.buyer.avatar,alt:"user-avatar"})," ",Object(l.jsx)("span",{children:e.chats.buyer.name})]})})},e.chats._id)}))}):Object(l.jsx)("h5",{style:{color:"#FFFFFF"},children:"No messages yet"})]}),Object(l.jsx)("article",{className:"col-lg-8 col-md-8",children:b&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"chat-selected-header col-lg-12",children:x.isBuyer?Object(l.jsxs)(i.b,{to:"/profile/".concat(x.chats.seller._id),children:[Object(l.jsx)("img",{src:x.chats.seller.avatar,alt:"user-avatar"}),Object(l.jsx)("span",{children:x.chats.seller.name})]}):Object(l.jsxs)(i.b,{to:"/profile/".concat(x.chats.buyer._id),children:[Object(l.jsx)("img",{src:x.chats.buyer.avatar,alt:"user-avatar"}),Object(l.jsx)("span",{children:x.chats.buyer.name})]})}),k&&Object(l.jsx)(he.a,{variant:"success",onClose:function(){return I(!1)},dismissible:!0,children:Object(l.jsx)("p",{children:w})}),Object(l.jsx)("div",{className:"chat-selected-body col-lg-12",children:x.chats.conversation.map((function(e){return Object(l.jsx)("div",{className:x.myId===e.senderId?"me":"not-me",children:Object(l.jsx)("span",{className:"message",children:e.message})},e._id)}))}),Object(l.jsx)("div",{className:"chat-selected-footer col-lg-12",children:Object(l.jsx)(ue.a,{onSubmit:function(e){e.preventDefault(),function(e,t){return Ue.apply(this,arguments)}(t,g).then((function(e){A("Message sent!"),I(!0),F(""),p(x,x.chats.conversation.push({message:g,senderId:e.sender})),setTimeout((function(){A(null),I(!1)}),1e3)})).catch((function(e){return console.log(e)}))},children:Object(l.jsx)(ue.a.Group,{children:Object(l.jsxs)(nt.a,{children:[Object(l.jsx)(ue.a.Control,{as:"textarea",required:!0,value:g,onChange:function(e){return F(e.target.value)}}),Object(l.jsx)(nt.a.Append,{children:Object(l.jsx)(C.a,{type:"submit",variant:"secondary",children:"Sent"})})]})})})})]})})]})})},at=c(45),st=function(){return Object(l.jsx)("div",{children:"Loading paypal, please wait..."})},it=function(e){var t=e.createOrder,c=e.createSubscription,n=e.onApprove,r=Object(at.c)(),a=Object(o.a)(r,1)[0],s=a.options;if(!a.isResolved)return Object(l.jsx)(st,{});var i={createOrder:t},j={createSubscription:c,style:{label:"subscribe"}},d="subscription"===s.intent?j:i;return Object(l.jsx)(at.a,Object(ce.a)(Object(ce.a)({style:{layout:"horizontal"}},d),{},{onApprove:n}))},ot=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(at.b,{options:{"client-id":"AbivnN3s5tryHPhqQAchiKS3XsBLzQjj0OSpGg73RsvemklguSs_Z2hcv5zk5doxIDcI70RX92EowVxj","client-secret":"EBfx9b1wflNDEIHw97lVSMhExsD4gYFlzI-ouYAkhy7r2Ae0ADXP0NrKhkzWonT7Xazjt7wpR6H-PP_g",currency:"CAD",intent:"capture"},children:Object(l.jsx)(it,{createOrder:function(e,t){return t.order.create({purchase_units:[{amount:{value:"5"}}]})},onApprove:function(e,t){return t.order.capture().then((function(e){alert("Transaction completed by "+e.payer.name.given_name)}))}})})})};c(140);function lt(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)("h1",{style:{color:"#FFFFFF",marginTop:200,textAlign:"center",margin:70},children:"In Order To Post Ads, You need to pay a one-time fee of 5 CAD$."}),Object(l.jsx)(ot,{})]})}var jt=function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(g,{}),Object(l.jsxs)(b.c,{children:[Object(l.jsx)(b.a,{path:"/",exact:!0,component:ee}),Object(l.jsx)(b.a,{path:"/categories/:category",exact:!0,component:ee}),Object(l.jsx)(b.a,{path:"/categories/:category/:id/details",component:Ye}),Object(l.jsx)(b.a,{path:"/categories/:category/:id/edit",component:Xe}),Object(l.jsx)(b.a,{path:"/auth/login",exact:!0,component:xe}),Object(l.jsx)(b.a,{path:"/auth/register",exact:!0,component:pe}),Object(l.jsx)(b.a,{path:"/auth/logout",exact:!0,render:me}),Object(l.jsx)(b.a,{path:"/add-product",exact:!0,component:_e}),";",Object(l.jsx)(b.a,{path:"/profile/:id",exact:!0,component:Ee}),";",Object(l.jsx)(b.a,{path:"/profile/:id/edit",exact:!0,component:$e}),";",Object(l.jsx)(b.a,{path:"/messages",exact:!0,component:rt}),";",Object(l.jsx)(b.a,{path:"/pay",exact:!0,component:lt}),";",Object(l.jsx)(b.a,{path:"/messages/:id",exact:!0,component:rt}),";",Object(l.jsx)(b.a,{component:tt})]}),Object(l.jsx)(v,{})]})},dt=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,162)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),n(e),r(e),a(e),s(e)}))};s.a.render(Object(l.jsx)(d,{children:Object(l.jsx)(i.a,{children:Object(l.jsx)(jt,{})})}),document.getElementById("root")),dt()},89:function(e,t,c){},90:function(e,t,c){},91:function(e,t,c){}},[[141,1,2]]]);
//# sourceMappingURL=main.0e5ffda3.chunk.js.map